# Pluralityæœ¬ã®æ¦‚å¿µãƒãƒƒãƒ— (Plurality Concept Map)

**ğŸŒ [ãƒ©ã‚¤ãƒ–ãƒ‡ãƒ¢ã‚’è¦‹ã‚‹](https://nishio.github.io/plurality-concept-map/)**

AIã‚’æ´»ç”¨ã—ã¦Pluralityæœ¬ã‹ã‚‰æ¦‚å¿µã¨é–¢ä¿‚æ€§ã‚’è‡ªå‹•æŠ½å‡ºã—ã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªæ¦‚å¿µãƒãƒƒãƒ—ã¨ã—ã¦å¯è¦–åŒ–ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

## âœ¨ ä¸»ãªæ©Ÿèƒ½

### ğŸŒ ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ç‰ˆ
- **[GitHub Pages ãƒ‡ãƒ¢](https://nishio.github.io/plurality-concept-map/)**: ã™ãã«ä½¿ãˆã‚‹ãƒ©ã‚¤ãƒ–ç‰ˆ
- **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–WebUI**: React + TypeScript + D3.jsã§æ§‹ç¯‰
- **ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–å¯è¦–åŒ–**: ã‚ºãƒ¼ãƒ ã€ãƒ‘ãƒ³ã€ãƒãƒ¼ãƒ‰é¸æŠãŒå¯èƒ½

### ğŸ“Š é«˜å“è³ªãªæ¦‚å¿µæŠ½å‡º
- **å¤šè¨€èªå¯¾å¿œ**: æ—¥æœ¬èªãƒ»è‹±èªãƒ†ã‚­ã‚¹ãƒˆã«å¯¾å¿œï¼ˆæ—¥æœ¬èªåŸæ–‡ãªã‚‰æ—¥æœ¬èªæ¦‚å¿µã‚’ç”Ÿæˆï¼‰
- **è‡ªç„¶è¨€èªé–¢ä¿‚**: å›ºå®šã‚¿ã‚¤ãƒ—ã§ã¯ãªãè‡ªç”±å½¢å¼ã®é–¢ä¿‚è¡¨ç¾
- **è¨¼æ‹ ä»˜ã**: å„æ¦‚å¿µãƒ»é–¢ä¿‚ã®æ ¹æ‹ ã¨ãªã‚‹åŸæ–‡å¼•ç”¨ã‚’ä¿æŒ

### ğŸ¨ ãƒ¢ãƒ€ãƒ³WebUI
- **React 18 + TypeScript**: ã‚¿ã‚¤ãƒ—ã‚»ãƒ¼ãƒ•ãªãƒ¢ãƒ€ãƒ³é–‹ç™º
- **D3.js v7**: é«˜æ€§èƒ½ãªã‚°ãƒ©ãƒ•å¯è¦–åŒ–
- **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³**: ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒ»ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ
- **ãƒã‚¤ãƒ©ã‚¤ãƒˆæ©Ÿèƒ½**: é¸æŠã—ãŸæ¦‚å¿µã®é–¢é€£è¦ç´ ã‚’å¼·èª¿è¡¨ç¤º
- **æ—¥æœ¬èªæœ€é©åŒ–**: Noto Sans JPãƒ•ã‚©ãƒ³ãƒˆã§ç¾ã—ã„è¡¨ç¤º

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ç‰ˆï¼ˆæ¨å¥¨ï¼‰
[**https://nishio.github.io/plurality-concept-map/**](https://nishio.github.io/plurality-concept-map/) ã«ã‚¢ã‚¯ã‚»ã‚¹

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç‰ˆ

#### 1. ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/nishio/plurality-concept-map.git
cd plurality-concept-map

# Pythonç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
python -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate
pip install -r requirements.txt

# WebUIé–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
cd webui
npm install
```

#### 2. æ¦‚å¿µãƒãƒƒãƒ—ç”Ÿæˆï¼ˆPythonï¼‰
```bash
# ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
cp .env.example .env
# .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦APIã‚­ãƒ¼ã‚’è¨­å®š

# åŸºæœ¬çš„ãªå®Ÿè¡Œ
python pipeline.py --out ./output

# ã‚«ã‚¹ã‚¿ãƒ è¨­å®š
python pipeline.py --input ./my_documents --out ./output --max-concepts 10 --model gpt-4o-mini
```

#### 3. WebUIé–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
```bash
cd webui
npm run dev
# http://localhost:3000 ã§ã‚¢ã‚¯ã‚»ã‚¹
```

## ğŸ¯ WebUIæ©Ÿèƒ½

### ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–å¯è¦–åŒ–
- **åŠ›å­¦çš„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**: D3.jsã«ã‚ˆã‚‹è‡ªå‹•é…ç½®
- **ã‚ºãƒ¼ãƒ ãƒ»ãƒ‘ãƒ³**: ãƒã‚¦ã‚¹ãƒ›ã‚¤ãƒ¼ãƒ«ãƒ»ãƒ‰ãƒ©ãƒƒã‚°æ“ä½œ
- **ãƒãƒ¼ãƒ‰é¸æŠ**: ã‚¯ãƒªãƒƒã‚¯ã§æ¦‚å¿µè©³ç´°ã‚’è¡¨ç¤º
- **ã‚¨ãƒƒã‚¸é¸æŠ**: é–¢ä¿‚ãƒ©ãƒ™ãƒ«ã‚¯ãƒªãƒƒã‚¯ã§é–¢ä¿‚è©³ç´°ã‚’è¡¨ç¤º

### ãƒã‚¤ãƒ©ã‚¤ãƒˆæ©Ÿèƒ½
- **æ¦‚å¿µé¸æŠæ™‚**: é¸æŠã—ãŸæ¦‚å¿µã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤º
- **é–¢ä¿‚é¸æŠæ™‚**: é–¢ä¿‚ã™ã‚‹ãƒãƒ¼ãƒ‰ã¨ã‚¨ãƒƒã‚¸ã‚’å¼·èª¿è¡¨ç¤º
- **è¦–èªæ€§å‘ä¸Š**: éé–¢é€£è¦ç´ ã‚’dimmedè¡¨ç¤º

### ã‚µã‚¤ãƒ‰ãƒãƒ¼è©³ç´°è¡¨ç¤º
- **æ¦‚å¿µæƒ…å ±**: å®šç¾©ã€ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã€è¨¼æ‹ ãƒ†ã‚­ã‚¹ãƒˆ
- **é–¢ä¿‚æƒ…å ±**: é–¢ä¿‚è¨˜è¿°ã€é–¢é€£æ¦‚å¿µã€ä¿¡é ¼åº¦
- **ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³**: é–¢é€£æ¦‚å¿µã¸ã®ã‚¯ãƒªãƒƒã‚¯ç§»å‹•

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
plurality-concept-map/
â”œâ”€â”€ ğŸ“ webui/                    # Modern React WebUI
â”‚   â”œâ”€â”€ ğŸ“ src/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ components/       # React components
â”‚   â”‚   â”‚   â”œâ”€â”€ App.tsx         # Main application
â”‚   â”‚   â”‚   â”œâ”€â”€ D3Graph.tsx     # Interactive graph visualization
â”‚   â”‚   â”‚   â”œâ”€â”€ ConceptDetails.tsx # Sidebar details panel
â”‚   â”‚   â”‚   â””â”€â”€ Toolbar.tsx     # Header and controls
â”‚   â”‚   â”œâ”€â”€ ğŸ“ types/           # TypeScript definitions
â”‚   â”‚   â”œâ”€â”€ ğŸ“ utils/           # Data loading utilities
â”‚   â”œâ”€â”€ ğŸ“ public/              # Static assets and data
â”‚   â”œâ”€â”€ package.json            # Node.js dependencies
â”‚   â””â”€â”€ vite.config.ts          # Vite configuration
â”œâ”€â”€ ğŸ“ docs/                    # GitHub Pages deployment
â”œâ”€â”€ pipeline.py                 # Main concept extraction pipeline
â”œâ”€â”€ llm.py                      # LLM API client
â”œâ”€â”€ prompts.py                  # Prompt templates
â”œâ”€â”€ utils.py                    # Text processing utilities
â”œâ”€â”€ requirements.txt            # Python dependencies
â””â”€â”€ CLAUDE.md                   # Development guidelines
```

## ğŸ› ï¸ é–‹ç™ºãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

### WebUIé–‹ç™º
```bash
cd webui
npm run dev          # é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ï¼ˆhttp://localhost:3000ï¼‰
npm run build        # ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰
npm run build:static # é™çš„HTMLç”Ÿæˆï¼ˆå…¨ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆå½¢å¼ï¼‰
```

### GitHub Pages ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ
```bash
# ãƒ“ãƒ«ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’docs/ã«ã‚³ãƒ”ãƒ¼
npm run build
cp -r webui/dist/* docs/

# ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥
git add docs/
git commit -m "Update GitHub Pages deployment"
git push origin main
```

### ãƒ‡ãƒ¼ã‚¿æ›´æ–°
1. `pipeline.py`ã§æ–°ã—ã„æ¦‚å¿µãƒãƒƒãƒ—ã‚’ç”Ÿæˆ
2. ç”Ÿæˆã•ã‚ŒãŸ`graph.json`ã‚’`webui/public/`ã«ã‚³ãƒ”ãƒ¼
3. WebUIã‚’å†ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤

## ğŸ“– æ¦‚å¿µæŠ½å‡ºãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

### ç’°å¢ƒå¤‰æ•°è¨­å®š
`.env`ãƒ•ã‚¡ã‚¤ãƒ«ï¼š
```bash
OPENAI_API_KEY=your_api_key_here          # å¿…é ˆ
OPENAI_BASE_URL=https://api.openai.com/v1 # ã‚ªãƒ—ã‚·ãƒ§ãƒ³
OPENAI_MODEL=gpt-4o-mini                  # ã‚ªãƒ—ã‚·ãƒ§ãƒ³
```

### ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚ªãƒ—ã‚·ãƒ§ãƒ³
| ã‚ªãƒ—ã‚·ãƒ§ãƒ³ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|-----------|-----------|------|
| `--input` | `contents/japanese` | å…¥åŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª |
| `--out` | å¿…é ˆ | å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª |
| `--segment-level` | `h2` | ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ†å‰²ãƒ¬ãƒ™ãƒ« (h1/h2/h3) |
| `--max-concepts` | `10` | ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚ãŸã‚Šã®æœ€å¤§æ¦‚å¿µæ•° |
| `--model` | `gpt-5-mini` | ä½¿ç”¨ã™ã‚‹LLMãƒ¢ãƒ‡ãƒ« |

### ãƒ¢ãƒ‡ãƒ«é¸æŠã‚¬ã‚¤ãƒ‰
| ãƒ¢ãƒ‡ãƒ« | ã‚³ã‚¹ãƒˆ | å“è³ª | æ¨å¥¨ç”¨é€” |
|--------|--------|------|----------|
| **GPT-5-mini** | ğŸ”´ é«˜ | â­â­â­â­â­ | æœ€çµ‚ç‰ˆãƒ»é‡è¦æ–‡æ›¸ |
| **GPT-4o-mini** | ğŸŸ¡ ä¸­ | â­â­â­â­ | é€šå¸¸ä½¿ç”¨ãƒ»é–‹ç™º |
| **GPT-3.5-turbo** | ğŸŸ¢ ä½ | â­â­â­ | ãƒ†ã‚¹ãƒˆãƒ»è»½é‡ä½¿ç”¨ |

## ğŸ“„ å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿å½¢å¼

### WebUIç”¨ãƒ‡ãƒ¼ã‚¿
- **`graph.json`**: å®Œå…¨ãªã‚°ãƒ©ãƒ•ãƒ‡ãƒ¼ã‚¿ï¼ˆWebUIç”¨ï¼‰
- **`graph_sec3-1.json`**: ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ¥ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚µãƒ³ãƒ—ãƒ«ï¼‰

### å¾“æ¥å½¢å¼
- **`nodes.csv`**: æ¦‚å¿µä¸€è¦§
- **`edges.csv`**: é–¢ä¿‚æ€§ä¸€è¦§  
- **`mermaid.md`**: Mermaidè¨˜æ³•ã®ãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ 

## ğŸ”§ æŠ€è¡“ä»•æ§˜

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **React 18** + **TypeScript**: å‹å®‰å…¨ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–‹ç™º
- **Vite**: é«˜é€Ÿé–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã¨ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«
- **D3.js v7**: ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚°ãƒ©ãƒ•å¯è¦–åŒ–
- **CSS Variables**: ä¸€è²«ã—ãŸãƒ†ãƒ¼ãƒã¨ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **Python 3.8+**: æ¦‚å¿µæŠ½å‡ºãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
- **OpenAI API**: GPTãƒ¢ãƒ‡ãƒ«ã«ã‚ˆã‚‹æ¦‚å¿µãƒ»é–¢ä¿‚æŠ½å‡º
- **Structured Prompts**: é«˜ç²¾åº¦ãªæ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿æŠ½å‡º

### ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ
- **GitHub Pages**: é™çš„ã‚µã‚¤ãƒˆãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°
- **è‡ªå‹•ãƒ“ãƒ«ãƒ‰**: Viteã«ã‚ˆã‚‹ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³æœ€é©åŒ–
- **CDNé…ä¿¡**: é«˜é€Ÿã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¢ã‚¯ã‚»ã‚¹

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. **Fork** ã“ã®ãƒªãƒã‚¸ãƒˆãƒª
2. **Feature branch** ã‚’ä½œæˆ: `git checkout -b feature/amazing-feature`
3. **Commit** å¤‰æ›´: `git commit -m 'Add amazing feature'`
4. **Push** ãƒ–ãƒ©ãƒ³ãƒ: `git push origin feature/amazing-feature`  
5. **Pull Request** ã‚’ä½œæˆ

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License - å•†ç”¨ãƒ»éå•†ç”¨å•ã‚ãšè‡ªç”±ã«ä½¿ç”¨å¯èƒ½

## ğŸ”— é–¢é€£ãƒªãƒ³ã‚¯

- **[ãƒ©ã‚¤ãƒ–ãƒ‡ãƒ¢](https://nishio.github.io/plurality-concept-map/)**
- **[GitHub ãƒªãƒã‚¸ãƒˆãƒª](https://github.com/nishio/plurality-concept-map)**
- **[Issuesãƒ»ãƒã‚°å ±å‘Š](https://github.com/nishio/plurality-concept-map/issues)**

---

**ğŸ“– About Plurality**: ã“ã®ãƒ„ãƒ¼ãƒ«ã¯[Plurality: The Future of Collaborative Technology and Democracy](https://www.plurality.net/)ã®æ¦‚å¿µç†è§£ã‚’æ”¯æ´ã™ã‚‹ãŸã‚ã«é–‹ç™ºã•ã‚Œã¾ã—ãŸã€‚

**ğŸ”¥ æ³¨æ„**: GPT-5-miniã¯é«˜ã‚³ã‚¹ãƒˆã§ã™ã€‚æœ¬æ ¼é‹ç”¨å‰ã«å¿…ãšã‚³ã‚¹ãƒˆç¢ºèªã‚’è¡Œã£ã¦ãã ã•ã„ã€‚